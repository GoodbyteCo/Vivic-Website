---
import MainCentered from '../layouts/MainCentered.astro'
import Work from '../components/Work.vue'
import { toDate } from '../utils/dateUtils'

const data = await Astro.glob('./work/*.md')


const work = data.map((post) => {
	return {
		title: post.frontmatter.title,
		pdf: post.frontmatter.pdf,
		date: toDate(post.frontmatter.date),
		topic: post.frontmatter.topic,
		source: post.rawContent(),
		url: post.url,
		externalLink: post.frontmatter.externalLink,
	}
})
--- 

<MainCentered>
	<Work works={work} client:load />
</MainCentered>
