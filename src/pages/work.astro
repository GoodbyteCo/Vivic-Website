---
import MainCentered from '../layouts/MainCentered.astro'
import Work from '../components/Work.vue'
import { getCollection } from 'astro:content'

const data = await getCollection('work')


const work = data.map((post) => {
	return {
		title: post.data.title,
		pdf: post.data.pdf,
		date: post.data.date,
		topic: post.data.topic,
		source: post.body,
		url: `/work/${post.slug}`,
		externalLink: post.data.externalLink,
	}
})
--- 

<MainCentered>
	<Work works={work} client:load />
</MainCentered>
